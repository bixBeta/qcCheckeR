Name	Type	Location	Scope	Returns	Description	Used By
data_rv	reactiveValues	app.R server	Global	list(meta, orig_meta, counts, orig_counts)	Primary data container for uploaded metadata and counts. Reset on new session or file upload.	editableTableServer, linkedTableServer, PCA analysis, session save/restore
counts_rv	reactiveValues	app.R server	Global	list(counts, orig_counts)	Working count matrix. Synced from data_rv on upload. Columns match metadata labels.	linkedTableServer, PCA analysis, violin plots
pca_rv	reactiveValues	app.R server	Global	list(pca_result, pca_data, computed)	Stores PCA results including VST object, scores, variance explained. Reset on new file upload.	PCA plot, scree plot, VST violin plots, eigenvalue/score exports
meta_out	reactiveValues	app.R server	Global	list(data)	Bridge reactive to expose edited metadata from editableTableServer module.	get_current_metadata helper, summary display
get_current_metadata	reactive	app.R server	Global	data.frame	Helper that accesses editableTableServer output. Creates proper reactive dependency for consumers.	PCA run handler, PCA plot, PCA exports, email summary, global save, violin plots
current_data	reactiveVal	editableTableServer	Module	data.frame	Current state of editable metadata table. Updated by edits, deletes, resets.	Table render, undo, reset, download, parent scope via module return
deleted_stack	reactiveVal	editableTableServer	Module	list	Stack of deleted rows for undo functionality. LIFO structure.	Undo handler, undo UI visibility
dynamic_data	reactive	linkedTableServer	Module	data.frame	Count matrix filtered to match current metadata labels. Auto-updates when samples change.	Count table render, violin plots, download
storage	moduleServer	sessionStorageServer	Module	list(session_id, load_session, save_initial_data, etc.)	Session management functions for save/restore functionality.	File upload, session restore, auto-save
email	moduleServer	emailNotificationsServer	Module	list(notifications_enabled, track_change, etc.)	Email notification batching and sending.	All edit handlers, file upload, example data load
sartools_base_colors	vector	linkedTableServer	Module	character[12]	Extended color palette for group coloring in violin/box plots. 12 distinct colors.	get_group_colors helper
get_group_colors	function	linkedTableServer	Module	named character vector	Generates colors for any number of groups. Uses base colors â‰¤12, interpolates for >12.	All violin/box plots
theme_qc	function	linkedTableServer	Module	ggplot theme	Custom ggplot2 theme with light background (#fafafa), clean styling.	All ggplot2 plots (violins, boxes)
output$file_uploaded	reactive	app.R server	Global	logical	Flag for conditional panel visibility. TRUE when data_rv$meta is not NULL.	Sidebar conditional panels
output$pca_computed	reactive	app.R server	Global	logical	Flag for PCA results visibility. TRUE when pca_rv$computed is TRUE.	PCA results panel, VST violin tabs
output$pca_plot	renderPlotly	app.R server	Global	plotly	Interactive PCA score plot with customizable colors, size, opacity, background.	PCA Score Plot tab
output$pca_scree	renderPlotly	app.R server	Global	plotly	Scree plot showing variance explained per PC with cumulative line.	Scree Plot tab
output$boxplot_raw	renderPlot	linkedTableServer	Module	ggplot	Static violin+box plot of raw counts (log2+1) colored by group.	Raw Counts tab
output$boxplot_vst	renderPlot	linkedTableServer	Module	ggplot	Static violin+box plot of VST counts colored by group. Requires PCA completion.	VST Counts tab
output$comparison_plot	renderPlot	linkedTableServer	Module	ggplot	Side-by-side faceted comparison of raw vs VST distributions.	Comparison tab
output$download_pca_plot	downloadHandler	app.R server	Global	PNG/SVG/PDF	Exports PCA plot with current customization options and proper margins.	Download Plot modal
output$download_eigenvalues	downloadHandler	app.R server	Global	CSV	Exports eigenvalues, standard deviations, variance explained, cumulative variance.	Export Eigenvalues button
output$download_pca_scores	downloadHandler	app.R server	Global	CSV	Exports PCA scores (all PCs) joined with current metadata.	Export PCA Scores button
input$load_session	actionButton	app.R UI	Global	trigger	Loads existing session by ID from session_id_input.	Session restore handler
input$start_new	actionButton	app.R UI	Global	trigger	Opens confirmation modal for new session.	New session modal
input$confirm_new_session	actionButton	app.R UI	Modal	trigger	Confirms new session, resets all data and creates new session ID.	New session reset handler
input$load_example	actionButton	app.R UI	Global	trigger	Loads Example_Data.RData from server, creates new session.	Example data load handler
input$file	fileInput	app.R UI	Global	file info	Accepts .RData file upload containing metadata and counts.	File upload handler
input$run_pca	actionButton	app.R UI	Global	trigger	Triggers DESeq2 VST and PCA computation with current parameters.	PCA run handler
input$pca_pc_x	selectInput	app.R UI	Global	integer	X-axis PC selection (1-10+).	PCA plot render
input$pca_pc_y	selectInput	app.R UI	Global	integer	Y-axis PC selection (1-10+).	PCA plot render
input$pca_color_by	selectInput	app.R UI	Global	character	Metadata column for point coloring.	PCA plot render
input$vst_blind	checkboxInput	app.R UI	Global	logical	Blind mode for VST (ignore sample info).	PCA/VST computation
input$vst_fitType	selectInput	app.R UI	Global	character	Dispersion fit type (parametric/local/mean).	PCA/VST computation
input$pca_ntop	numericInput	app.R UI	Global	integer	Number of top variable genes for PCA.	PCA computation
input$plot_title	textInput	app.R UI	Global	character	Custom title for PCA plot.	PCA plot render, download
input$plot_point_size	sliderInput	app.R UI	Global	numeric	Point size for PCA scatter.	PCA plot render, download
input$plot_point_opacity	sliderInput	app.R UI	Global	numeric	Point opacity (0-1).	PCA plot render, download
input$gradient_color1	colourInput	app.R UI	Global	hex color	Start color for group gradient (#636EFA default).	PCA plot render, download
input$gradient_color2	colourInput	app.R UI	Global	hex color	Middle color for group gradient (#EF553B default).	PCA plot render, download
input$gradient_color3	colourInput	app.R UI	Global	hex color	End color for group gradient (#00CC96 default).	PCA plot render, download
input$plot_show_grid	checkboxInput	app.R UI	Global	logical	Show/hide plot grid lines.	PCA plot render, download
input$plot_show_legend	checkboxInput	app.R UI	Global	logical	Show/hide color legend.	PCA plot render, download
input$plot_bg_color	selectInput	app.R UI	Global	hex color	Plot background color preset.	PCA plot render, download
input$reset_plot_options	actionButton	app.R UI	Global	trigger	Resets all plot options to defaults.	Reset handler
input$open_download_modal	actionButton	app.R UI	Global	trigger	Opens plot download configuration modal.	Download modal handler
input$plot_download_format	selectInput	app.R UI	Modal	character	Export format (png/svg/pdf).	Download handler
input$plot_download_width	numericInput	app.R UI	Modal	integer	Export width in pixels.	Download handler
input$plot_download_height	numericInput	app.R UI	Modal	integer	Export height in pixels.	Download handler
input$plot_download_filename	textInput	app.R UI	Modal	character	Custom filename for export.	Download handler
